{"version":3,"sources":["redux/reducers/user.ts","redux/types/locations.ts","redux/reducers/locations.ts","redux/reducers/index.ts","redux/types/user.ts","redux/store.ts","components/Card/index.tsx","components/Snackbar/index.tsx","components/YMaps/index.tsx","utils/validateField.js","modules/LoginForm/components/LoginForm.tsx","api/endpoint/locations.ts","api/endpoint/users.ts","redux/actions/locations.ts","redux/actions/user.ts","modules/LoginForm/containers/LoginForm.tsx","utils/validate.js","pages/Auth/index.tsx","pages/Home/index.tsx","App.tsx","index.tsx"],"names":["initialState","user","isAuth","queryResult","status","message","SET_ITEMS","items","currentItem","coodrs","name","rootReducer","combineReducers","locations","state","action","type","payload","item","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middlewares","thunkMiddleware","enhancer","applyMiddleware","store","createStore","useStyles","makeStyles","theme","createStyles","card","width","margin","spacing","marginBottom","CardItem","setCurrentItem","classes","Card","className","onClick","bind","CardActionArea","CardContent","Typography","gutterBottom","variant","component","variantIcon","success","CheckCircleIcon","warning","WarningIcon","error","ErrorIcon","info","InfoIcon","useStyles1","backgroundColor","green","palette","dark","primary","main","amber","icon","fontSize","iconVariant","opacity","marginRight","display","alignItems","MySnackbarContentWrapper","props","onClose","other","Icon","SnackbarContent","clsx","aria-describedby","id","IconButton","key","aria-label","color","CustomizedSnackbar","React","useState","open","setOpen","handleClose","event","reason","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","YandexMap","query","ns","load","height","center","zoom","controls","geometry","properties","balloonContentBody","touched","errors","body","common","white","paper","marginTop","flexDirection","avatar","secondary","form","submit","LoginForm","values","handleChange","handleBlur","handleSubmit","isSubmitting","useSelector","Container","maxWidth","CssBaseline","Avatar","onSubmit","noValidate","TextField","required","fullWidth","label","email","autoComplete","autoFocus","value","onChange","onBlur","validateField","password","Button","disabled","users","token","data","find","u","Promise","resolve","actions","setLocationData","fetchLocationData","dispatch","locationsApi","setUserData","setQueryData","fetchUserLogin","postData","a","usersApi","response","localStorage","console","log","LoginFormContainer","withFormik","enableReinitialize","mapPropsToValues","validate","rules","Object","keys","forEach","validateForm","setSubmitting","history","push","displayName","connect","userActions","Auth","exact","path","Component","root","padding","overflow","sidebar","locationActions","useEffect","setInterval","clearInterval","Grid","container","sm","md","map","i","render","to","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.fbcd96e3.chunk.js","sourcesContent":["import { UserState, UserActionTypes, SET_DATA, SET_QUERY_DATA } from \"../types/user\";\r\n\r\nconst initialState: UserState = {\r\n  user: null,\r\n  isAuth: false,\r\n  queryResult: {\r\n    status: \"\",\r\n    message: \"\"\r\n  }\r\n};\r\n\r\nexport default (state = initialState, action: UserActionTypes) => {\r\n  switch (action.type) {\r\n    case SET_DATA:\r\n      return {\r\n        ...state,\r\n        user: action.payload,\r\n        isAuth: true\r\n      };\r\n    case SET_QUERY_DATA:\r\n      return {\r\n        ...state,\r\n        queryResult: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const SET_ITEMS = 'LOCATIONS:SET_ITEMS';\r\nexport const SET_CURRENT_ITEM = 'LOCATIONS:SET_CURRENT_ITEM';\r\n\r\nexport interface Location {\r\n  coodrs: number[];\r\n  name: string;\r\n};\r\n\r\nexport interface LocationState {\r\n  items: Location[];\r\n  currentItem: Location;\r\n};\r\n\r\ninterface SetCurrentItemAction {\r\n  type: typeof SET_CURRENT_ITEM;\r\n  item: Location;\r\n};\r\n\r\ninterface SetLocationDataAction {\r\n  type: typeof SET_ITEMS;\r\n  payload: Location[];\r\n};\r\n\r\nexport type LocationActionTypes = SetLocationDataAction | SetCurrentItemAction;\r\n","import {\r\n  SET_CURRENT_ITEM,\r\n  SET_ITEMS,\r\n  LocationState,\r\n  LocationActionTypes\r\n} from \"../types/locations\";\r\n\r\nconst initialState: LocationState = {\r\n  items: [],\r\n  currentItem: {\r\n    coodrs: [55.751442, 37.618874],\r\n    name: \"Московский Кремль\"\r\n  }\r\n};\r\n\r\nexport default (\r\n  state = initialState,\r\n  action: LocationActionTypes\r\n): LocationState => {\r\n  switch (action.type) {\r\n    case SET_ITEMS:\r\n      return {\r\n        ...state,\r\n        items: action.payload\r\n      };\r\n    case SET_CURRENT_ITEM:\r\n      return {\r\n        ...state,\r\n        currentItem: action.item\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport user from \"./user\";\r\nimport locations from \"./locations\";\r\n\r\nexport const rootReducer = combineReducers({\r\n  locations,\r\n  user,\r\n});\r\n\r\nexport type AppState = ReturnType<typeof rootReducer>","export const SET_DATA = \"USER:SET_DATA\";\r\nexport const SET_QUERY_DATA = \"USER:SET_QUERY_DATA\";\r\n\r\nexport interface User {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  token: string;\r\n}\r\n\r\nexport interface Query {\r\n  status: string,\r\n  message: string,\r\n}\r\n\r\nexport interface UserState {\r\n  user: User | null,\r\n  isAuth: boolean,\r\n  queryResult: Query\r\n}\r\n\r\ninterface SetUserDataAction {\r\n  type: typeof SET_DATA,\r\n  payload: User | null,\r\n}\r\n\r\ninterface SetQueryDataAction {\r\n  type: typeof SET_QUERY_DATA, \r\n  payload: Query,\r\n}\r\n\r\nexport type UserActionTypes = SetUserDataAction | SetQueryDataAction;\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunkMiddleware from 'redux-thunk';\r\n\r\nimport {rootReducer} from './reducers';\r\n\r\ndeclare global {\r\n    interface Window {\r\n      __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\r\n    }\r\n}\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst middlewares = [thunkMiddleware];\r\n\r\nconst enhancer = composeEnhancers(applyMiddleware(...middlewares));\r\n\r\nconst store = createStore(rootReducer, enhancer);\r\n\r\nexport default store;","import React from \"react\";\r\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport { Location, LocationActionTypes } from \"../../redux/types/locations\";\r\n\r\ninterface Props {\r\n  item: Location,\r\n  name: string,\r\n  setCurrentItem: (data: Location) => LocationActionTypes\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    card: {\r\n      width: \"100%\",\r\n      margin: theme.spacing(0, 0, 2, 0),\r\n      \"&:last-child\": {\r\n        marginBottom: 1\r\n      }\r\n    }\r\n  })\r\n);\r\n\r\nconst CardItem = ({item, name, setCurrentItem}: Props) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card className={classes.card} onClick={setCurrentItem.bind(Card, item)}>\r\n      <CardActionArea>\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {name}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default CardItem;\r\n","import React, { SyntheticEvent } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport ErrorIcon from \"@material-ui/icons/Error\";\r\nimport InfoIcon from \"@material-ui/icons/Info\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport { amber, green } from \"@material-ui/core/colors\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\r\nimport WarningIcon from \"@material-ui/icons/Warning\";\r\nimport { makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon\r\n};\r\n\r\nexport interface Props {\r\n  className?: string;\r\n  message?: string;\r\n  onClose?: () => void;\r\n  variant: keyof typeof variantIcon;\r\n}\r\n\r\nexport interface Props1 {\r\n  status: string;\r\n  message: string;\r\n}\r\n\r\nconst useStyles1 = makeStyles((theme: Theme) => ({\r\n  success: {\r\n    backgroundColor: green[600]\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700]\r\n  },\r\n  icon: {\r\n    fontSize: 20\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1)\r\n  },\r\n  message: {\r\n    display: \"flex\",\r\n    alignItems: \"center\"\r\n  }\r\n}));\r\n\r\nconst MySnackbarContentWrapper = (props: Props) => {\r\n  const classes = useStyles1();\r\n  const { className, message, onClose, variant, ...other } = props;\r\n  const Icon = variantIcon[variant];\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={clsx(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton\r\n          key=\"close\"\r\n          aria-label=\"close\"\r\n          color=\"inherit\"\r\n          onClick={onClose}\r\n        >\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>\r\n      ]}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nexport default function CustomizedSnackbar({status, message}: Props1) {\r\n  const [open, setOpen] = React.useState(true);\r\n\r\n  const handleClose = (event?: SyntheticEvent, reason?: string) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Snackbar\r\n        anchorOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"right\"\r\n        }}\r\n        open={open}\r\n        autoHideDuration={6000}\r\n        onClose={handleClose}\r\n      >\r\n        <MySnackbarContentWrapper\r\n          onClose={handleClose}\r\n          variant={status === \"error\" ? \"error\" : \"success\"}\r\n          message={message}\r\n        />\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { YMaps, Map, Placemark } from \"react-yandex-maps\";\r\n\r\nimport { Location } from \"../../redux/types/locations\";\r\n\r\n\r\nconst YandexMap = ({ currentItem }: {currentItem: Location}) => {\r\n  return (\r\n    <YMaps\r\n      query={{\r\n        ns: \"use-load-option\",\r\n        load:\r\n          \"Map,Placemark,control.ZoomControl,control.FullscreenControl,geoObject.addon.balloon\"\r\n      }}\r\n    >\r\n      <Map\r\n        width=\"100wh\"\r\n        height=\"100vh\"\r\n        state={{\r\n          center: currentItem.coodrs,\r\n          zoom: 11,\r\n          controls: [\"zoomControl\", \"fullscreenControl\"]\r\n        }}\r\n      >\r\n        <Placemark\r\n          geometry={currentItem.coodrs}\r\n          properties={{\r\n            balloonContentBody: currentItem.name\r\n          }}\r\n        />\r\n      </Map>\r\n    </YMaps>\r\n  );\r\n};\r\n\r\nexport default YandexMap;\r\n","export default (key, touched, errors) => {\r\n  if (touched[key]) {\r\n    if (errors[key]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport { Snackbar } from \"../../../components\";\r\nimport validateField from \"../../../utils/validateField\";\r\nimport { AppState } from \"../../../redux/reducers\";\r\n\r\ninterface Props {\r\n  values: { email: string; password: string };\r\n  touched: { [field: string]: boolean | undefined };\r\n  errors: { [field: string]: string | undefined };\r\n  handleChange: (e: React.ChangeEvent<any>) => void;\r\n  handleBlur: (e: any) => void;\r\n  handleSubmit: (e: React.FormEvent<any>) => void;\r\n  isSubmitting: boolean;\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  \"@global\": {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white\r\n    }\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\"\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1)\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2)\r\n  }\r\n}));\r\n\r\nconst LoginForm = ({\r\n  values,\r\n  touched,\r\n  errors,\r\n  handleChange,\r\n  handleBlur,\r\n  handleSubmit,\r\n  isSubmitting\r\n}: Props) => {\r\n  const classes = useStyles();\r\n  const queryResult = useSelector((state: AppState) => state.user.queryResult);\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label={!touched.email ? \"Email Address\" : errors.email}\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            autoFocus\r\n            value={values.email}\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n            error={validateField(\"email\", touched, errors)}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label={!touched.password ? \"Password\" : errors.password}\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n            value={values.password}\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n            error={validateField(\"password\", touched, errors)}\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            disabled={isSubmitting}\r\n            className={classes.submit}\r\n          >\r\n            Sign In\r\n          </Button>\r\n        </form>\r\n      </div>\r\n      {queryResult.status ? (\r\n        <Snackbar status={queryResult.status} message={queryResult.message} />\r\n      ) : null}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","export default [\r\n  {\r\n    coodrs: [53.9105, 27.549637],\r\n    name: \"Дворец спорта\"\r\n  },\r\n  {\r\n    coodrs: [53.895688, 27.547812],\r\n    name: \"Пл. Независимости\"\r\n  },\r\n  {\r\n    coodrs: [53.902418, 27.561828],\r\n    name: \"0 км\"\r\n  },\r\n  {\r\n    coodrs: [53.906544, 27.436475],\r\n    name: \"Каменная горка\"\r\n  },\r\n  {\r\n    coodrs: [53.936153, 27.481583],\r\n    name: \"Минск-арена\"\r\n  },\r\n  {\r\n    coodrs: [53.904026, 27.56787],\r\n    name: \"Белорусский цирк\"\r\n  },\r\n  {\r\n    coodrs: [55.751442, 37.618874],\r\n    name: \"Московский Кремль\"\r\n  },\r\n  {\r\n    coodrs: [50.449558, 30.525399],\r\n    name: \"Монумент Независимости Украины\"\r\n  }\r\n];\r\n","const users = [\r\n  {\r\n    id: \"1\",\r\n    name: \"Вася\",\r\n    email: \"administrator@gmail.com\",\r\n    password: \"1234567\",\r\n    token:\r\n      \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6IjEiLCJuYW1lIjoi0JLQsNGB0Y8iLCJlbWFpbCI6ImFkbWluaXN0cmF0b3JAZ21haWwuY29tIiwianRpIjoiNzQ4Zjg4OTYtNGUzNy00ODAwLTkxOTktYmMzMGQ4NmQzZTk3IiwiaWF0IjoxNTcwNzk1Nzg0LCJleHAiOjE1NzA3OTkzODR9.6Hqm6lHnnMRGoXi6t4b-ZEXelGj-v7D2H_3PwQ_jos0\"\r\n  },\r\n  {\r\n    id: \"2\",\r\n    name: \"Петя\",\r\n    email: \"moderator@gmail.com\",\r\n    password: \"7654321\",\r\n    token:\r\n      \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6IjIiLCJuYW1lIjoi0J_QtdGC0Y8iLCJlbWFpbCI6Im1vZGVyYXRvckBnbWFpbC5jb20iLCJqdGkiOiJiY2Y5MDZlNC0yYzMwLTQ3NWYtODBmNS01YWYzNTcwZDc4YWMiLCJpYXQiOjE1NzA3OTI2NDksImV4cCI6MTU3MDc5NjI0OX0.9nn-DeFE7pYbqle3LxIhiFmCH_HhmLS6ff-3hTsryAg\"\r\n  }\r\n];\r\n\r\nexport default {\r\n  signIn: (data: { email: string; password: string }) => {\r\n    const user = users.find(u => u.email === data.email);\r\n    if (!user) {\r\n      return Promise.resolve({\r\n        status: \"error\",\r\n        message: \"User not found\",\r\n        user: null\r\n      });\r\n    }\r\n\r\n    if (user.password !== data.password) {\r\n      return Promise.resolve({\r\n        status: \"error\",\r\n        message: \"Incorrect password\",\r\n        user: null\r\n      });\r\n    }\r\n\r\n    return Promise.resolve({\r\n      status: \"success\",\r\n      message: \"User found\",\r\n      user: {\r\n        id: user.id,\r\n        name: user.name,\r\n        email: user.email,\r\n        token: user.token\r\n      }\r\n    });\r\n  }\r\n};\r\n","import { locationsApi } from \"../../api/endpoint\";\r\nimport { Location, LocationActionTypes, SET_ITEMS, SET_CURRENT_ITEM } from \"../types/locations\";\r\n\r\nconst actions = {\r\n  setCurrentItem: (data: Location): LocationActionTypes => ({\r\n    type: SET_CURRENT_ITEM,\r\n    item: data\r\n  }),\r\n  setLocationData: (data: Location[]): LocationActionTypes => ({\r\n    type: SET_ITEMS,\r\n    payload: data\r\n  }),\r\n  fetchLocationData: () => (dispatch: (arg0: LocationActionTypes) => void) => {\r\n    dispatch(actions.setLocationData(locationsApi));\r\n  }\r\n};\r\n\r\nexport default actions;\r\n","import { usersApi } from \"../../api/endpoint\";\r\nimport { User, Query, SET_DATA, SET_QUERY_DATA, UserActionTypes } from \"../types/user\"; \r\n\r\nconst actions = {\r\n  setUserData: (data: User | null) => ({\r\n    type: SET_DATA,\r\n    payload: data\r\n  }),\r\n  setQueryData: (data: Query) => ({ \r\n    type: SET_QUERY_DATA,\r\n    payload: data\r\n  }),\r\n  fetchUserLogin: (postData: { email: string; password: string }) => async (dispatch: ((arg: any ) => UserActionTypes)) => {\r\n    try {\r\n      let response = await usersApi.signIn(postData);\r\n\r\n      if(response.status === \"success\") {\r\n        response = response as {status: string, message: string, user: User};\r\n        window.localStorage[\"token\"] = response.user.token;\r\n\r\n        dispatch(actions.setUserData(response.user))\r\n      }\r\n\r\n      dispatch(actions.setQueryData({status: response.status, message: response.message}))\r\n\r\n      return response;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n};\r\n\r\nexport default actions;\r\n","import { withFormik } from \"formik\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport validateForm from \"../../..//utils/validate\";\r\nimport LoginForm from \"../components/LoginForm\";\r\nimport { userActions } from \"../../../redux/actions\";\r\n\r\nconst LoginFormContainer = withFormik({\r\n  enableReinitialize: true,\r\n  mapPropsToValues: () => ({\r\n    email: \"\",\r\n    password: \"\"\r\n  }),\r\n  validate: values => {\r\n    let errors = {};\r\n    validateForm({ values, errors });\r\n    return errors;\r\n  },\r\n  handleSubmit: async (values, { setSubmitting, props }) => {\r\n    const {fetchUserLogin, history}: any = props;\r\n\r\n    const data = await fetchUserLogin(values);\r\n\r\n    if (data.status === \"success\") {\r\n      history.push(\"/\");\r\n    }\r\n\r\n    setSubmitting(false);\r\n  },\r\n  displayName: \"LoginForm\"\r\n})(LoginForm);\r\n\r\nexport default connect(\r\n  null,\r\n  userActions\r\n)(LoginFormContainer);\r\n","export default ({ values, errors }) => {\r\n  const rules = {\r\n    email: value => {\r\n      if (!value) {\r\n        errors.email = \"Введите E-Mail\";\r\n      }\r\n    },\r\n    password: value => {\r\n      if (!value) {\r\n        errors.password = \"Введите пароль\";\r\n      }\r\n    }\r\n  };\r\n\r\n  Object.keys(values).forEach(key => rules[key] && rules[key](values[key]));\r\n};\r\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\n\r\nimport { LoginForm } from '../../modules';\r\n\r\nclass Auth extends React.Component {\r\n    render() {\r\n        return (\r\n            <section className=\"auth\">\r\n                <div className=\"auth__content\">\r\n                    <Route exact path={['/', '/signin']} component={LoginForm} />\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Auth;\r\n","import React, { useEffect } from \"react\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { connect, useSelector } from \"react-redux\";\r\n\r\nimport { Location, LocationActionTypes } from \"../../redux/types/locations\";\r\nimport { CardItem, YandexMap } from \"../../components\";\r\nimport { locationActions } from \"../../redux/actions\";\r\nimport { AppState } from \"../../redux/reducers\";\r\n\r\ninterface Props {\r\n  currentItem: Location;\r\n  setCurrentItem: (data: Location) => LocationActionTypes;\r\n  fetchLocationData: () => void;\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    height: \"100vh\"\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(1, 1),\r\n    padding: theme.spacing(0, 1),\r\n    height: \"100%\",\r\n    overflow: \"auto\"\r\n  },\r\n  sidebar: {\r\n    height: \"calc(100% - 16px)\"\r\n  }\r\n}));\r\n\r\nconst Home = ({ currentItem, setCurrentItem, fetchLocationData }: Props) => {\r\n  const classes = useStyles();\r\n  const items = useSelector((state: AppState) => state.locations.items);\r\n\r\n  useEffect(() => {\r\n    fetchLocationData();\r\n\r\n    const id = setInterval(() => {\r\n      fetchLocationData();\r\n    }, 3000);\r\n\r\n    return () => {\r\n      clearInterval(id);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Grid container component=\"main\" className={classes.root}>\r\n      <CssBaseline />\r\n      <Grid item sm={12} md={8}>\r\n        <YandexMap currentItem={currentItem} />\r\n      </Grid>\r\n      <Grid item sm={12} md={4} className={classes.sidebar}>\r\n        <div className={classes.paper}>\r\n          {items.map((item: Location, i: number) => (\r\n            <CardItem\r\n              key={i}\r\n              item={item}\r\n              name={item.name}\r\n              setCurrentItem={setCurrentItem}\r\n            />\r\n          ))}\r\n        </div>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  (state: AppState) => ({\r\n    currentItem: state.locations.currentItem\r\n  }),\r\n  locationActions\r\n)(Home);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Route, Redirect, Switch } from \"react-router-dom\";\r\n\r\nimport { Auth, Home } from \"./pages\";\r\nimport { AppState } from \"./redux/reducers\";\r\n\r\ninterface Props {\r\n  isAuth: boolean\r\n}\r\n\r\nconst App = ({isAuth}: Props) => {\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <Switch>\r\n        <Route exact path=\"/signin\" component={Auth} />\r\n        <Route\r\n          path=\"/\"\r\n          render={() => (isAuth ? <Home /> : <Redirect to=\"/signin\" />)}\r\n        />\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect((state: AppState) => ({ isAuth: state.user.isAuth }))(App);;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nimport store from \"./redux/store\";\r\nimport App from \"./App\";\r\n\r\nimport \"./styles/index.css\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}